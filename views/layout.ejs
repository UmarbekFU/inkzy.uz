<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <meta name="description" content="<%= description %>">
    <meta name="keywords" content="<%= locals.keywords || 'personal website, portfolio, blog, essays' %>">
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="<%= title %>">
    <meta property="og:description" content="<%= description %>">
    <meta property="og:type" content="website">
    <meta property="og:url" content="<%= locals.siteUrl || 'https://umarbek.com' %>">
    
    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= title %>">
    <meta name="twitter:description" content="<%= description %>">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/main.css">
    <% if (locals.pageStyles) { %>
        <% pageStyles.forEach(style => { %>
            <link rel="stylesheet" href="<%= style %>">
        <% }); %>
    <% } %>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Umarbek",
        "url": "https://umarbek.com",
        "description": "<%= description %>",
        "sameAs": [
            "https://github.com/UmarbekFU",
            "https://twitter.com/umarbek"
        ]
    }
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header -->
    <header class="site-header">
        <nav class="main-navigation" role="navigation" aria-label="Main navigation">
            <div class="nav-container">
                <a href="/" class="site-logo" aria-label="Home">
                    <span class="logo-text">Umarbek</span>
                </a>
                
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link <%= page === 'home' ? 'active' : '' %>">Home</a></li>
                    <li><a href="/essays" class="nav-link <%= page === 'essays' ? 'active' : '' %>">Essays</a></li>
                    <li><a href="/projects" class="nav-link <%= page === 'projects' ? 'active' : '' %>">Projects</a></li>
                    <li><a href="/now" class="nav-link <%= page === 'now' ? 'active' : '' %>">Now</a></li>
                    <li><a href="/timeline" class="nav-link <%= page === 'timeline' ? 'active' : '' %>">Timeline</a></li>
                    <li><a href="/lists" class="nav-link <%= page === 'lists' ? 'active' : '' %>">Lists</a></li>
                    <li><a href="/services" class="nav-link <%= page === 'services' ? 'active' : '' %>">Services</a></li>
                </ul>
                
                <button class="theme-toggle" aria-label="Toggle dark/light theme">
                    <svg class="theme-toggle-icon sun" viewBox="0 0 24 24">
                        <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
                    </svg>
                    <svg class="theme-toggle-icon moon" viewBox="0 0 24 24">
                        <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                    </svg>
                </button>
            </div>
        </nav>
    </header>
    
    <!-- Main content -->
    <main id="main-content" class="main-content">
        <%- body %>
    </main>
    
    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Umarbek</h3>
                    <p>A minimalist designer focused on creating impactful digital experiences.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="/essays">Essays</a></li>
                        <li><a href="/projects">Projects</a></li>
                        <li><a href="/now">Now</a></li>
                        <li><a href="/services">Services</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul class="footer-links">
                        <li><a href="https://github.com/UmarbekFU" target="_blank" rel="noopener">GitHub</a></li>
                        <li><a href="https://twitter.com/umarbek" target="_blank" rel="noopener">Twitter</a></li>
                        <li><a href="mailto:hello@umarbek.com">Email</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Newsletter</h4>
                    <p>Get updates on new essays and projects.</p>
                    <form class="newsletter-form" action="/api/newsletter/subscribe" method="POST">
                        <div class="form-group">
                            <label for="newsletter-email" class="sr-only">Email address</label>
                            <input type="email" id="newsletter-email" name="email" placeholder="Enter your email" required>
                            <button type="submit" aria-label="Subscribe to newsletter">Subscribe</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <%= currentYear %> Umarbek. All rights reserved.</p>
                <p>Built with ❤️ and minimalism</p>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="/static/js/main.js"></script>
    <% if (locals.pageScripts) { %>
        <% pageScripts.forEach(script => { %>
            <script src="<%= script %>"></script>
        <% }); %>
    <% } %>
    
    <!-- Analytics -->
    <% if (locals.googleAnalyticsId) { %>
    <script async src="https://www.googletagmanager.com/gtag/js?id=<%= googleAnalyticsId %>"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '<%= googleAnalyticsId %>');
    </script>
    <% } %>
</body>
</html> 